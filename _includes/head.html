<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="{{ "/assets/css/style.css" | relative_url }}">

  {% include fonts.html %}

  <script src="/assets/js/hello.js" type="text/javascript"></script>
  <script type="text/javascript">
    window.onload = function() {

      // Init mobile nav toggle.
      const IS_VISIBLE_CLASS = "visible";
      const IS_ACTIVE_CLASS = "active";

      var mobile_nav_toggle = document.querySelector( ".mobile-nav-toggle" );
      var mobile_nav = document.querySelector( "nav.mobile" );
      var body = document.querySelector( "body" );

      mobile_nav_toggle.addEventListener( "click", function () {
        if (mobile_nav_toggle.classList.contains( IS_ACTIVE_CLASS )) {
          mobile_nav_toggle.classList.remove( IS_ACTIVE_CLASS );
          mobile_nav.classList.remove( IS_VISIBLE_CLASS );
          // allow body to scroll again
          body.style.overflow = "auto";
          document.ontouchmove = function (e) {
            return true;
          }
        } else {
          mobile_nav_toggle.classList.add( IS_ACTIVE_CLASS );
          mobile_nav.classList.add( IS_VISIBLE_CLASS );
          // make sure body doesn't scroll in background
          body.style.overflow = "hidden";
          document.ontouchmove = function (e) {
            e.preventDefault();
          }
        }
      })

      // Init hello form.
      hello.init();

      // Add dots to H1s in content.
      // var DOT_ELEM = "<span class='dot'>&nbsp;</span>";
      // var h1s = document.querySelectorAll(".content h1");
      // h1s.forEach(function(h1) {
      //   var tokens = h1.innerText.split(" ");
      //   h1.innerHTML = tokens.map(function(token, index) {
      //     return (index < tokens.length - 1) ? token + DOT_ELEM : token;
      //   }).join("");
      // })
    }
  </script>

  {% if page.js_files %}
  {% for js_file in page.js_files %}
  	<script src="/assets/js/{{ js_file }}.js" type="text/javascript"></script>
  {% endfor %}
  {% endif %}

  {% if jekyll.environment == 'production' and site.google_analytics %}
    {% include google-analytics.html %}
  {% endif %}

</head>
